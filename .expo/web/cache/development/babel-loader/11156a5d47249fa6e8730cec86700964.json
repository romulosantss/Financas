{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { async } from '@firebase/util';\nimport React, { useState, createContext } from 'react';\nimport firebase from \"../services/firebaseConnection\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var AuthContext = createContext({});\n\nfunction AuthProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  function signUp(email, password, nome) {\n    return _regeneratorRuntime.async(function signUp$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(email, password).then(function _callee(value) {\n              var uid;\n              return _regeneratorRuntime.async(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      uid = value.user.uid;\n                      _context.next = 3;\n                      return _regeneratorRuntime.awrap(firebase.database().ref('users').child(uid).set({\n                        saldo: 0,\n                        nome: nome\n                      }).then(function () {\n                        var data = {\n                          uid: uid,\n                          nome: nome,\n                          email: value.user.email\n                        };\n                        setUser(data);\n                      }));\n\n                    case 3:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return _jsx(AuthContext.Provider, {\n    value: {\n      signed: !!user,\n      user: user,\n      signUp: signUp\n    },\n    children: children\n  });\n}\n\nexport default AuthProvider;","map":{"version":3,"sources":["C:/Users/RML-R/Documents/Estudos/app/AppFinancas/src/contexts/auth.js"],"names":["async","React","useState","createContext","firebase","AuthContext","AuthProvider","children","user","setUser","signUp","email","password","nome","auth","createUserWithEmailAndPassword","then","value","uid","database","ref","child","set","saldo","data","signed"],"mappings":";;AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,aAA1B,QAA+C,OAA/C;AACA,OAAOC,QAAP;;AAEA,OAAO,IAAMC,WAAW,GAAGF,aAAa,CAAC,EAAD,CAAjC;;AAEP,SAASG,YAAT,OAAmC;AAAA,MAAXC,QAAW,QAAXA,QAAW;;AAC/B,kBAAwBL,QAAQ,CAAC,IAAD,CAAhC;AAAA;AAAA,MAAOM,IAAP;AAAA,MAAaC,OAAb;;AAGA,WAAeC,MAAf,CAAsBC,KAAtB,EAA6BC,QAA7B,EAAuCC,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACUT,QAAQ,CAACU,IAAT,GAAgBC,8BAAhB,CAA+CJ,KAA/C,EAAsDC,QAAtD,EACLI,IADK,CACA,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACEC,sBAAAA,GADF,GACQD,KAAK,CAACT,IAAN,CAAWU,GADnB;AAAA;AAAA,uDAEId,QAAQ,CAACe,QAAT,GAAoBC,GAApB,CAAwB,OAAxB,EAAiCC,KAAjC,CAAuCH,GAAvC,EAA4CI,GAA5C,CAAgD;AAClDC,wBAAAA,KAAK,EAAE,CAD2C;AAElDV,wBAAAA,IAAI,EAAEA;AAF4C,uBAAhD,EAILG,IAJK,CAIA,YAAI;AACN,4BAAIQ,IAAI,GAAG;AACPN,0BAAAA,GAAG,EAAEA,GADE;AAEPL,0BAAAA,IAAI,EAAEA,IAFC;AAGPF,0BAAAA,KAAK,EAAEM,KAAK,CAACT,IAAN,CAAWG;AAHX,yBAAX;AAKAF,wBAAAA,OAAO,CAACe,IAAD,CAAP;AACH,uBAXK,CAFJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADA,CADV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmBA,SACI,KAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE,CAAC,CAACjB,IAAZ;AAAkBA,MAAAA,IAAI,EAAJA,IAAlB;AAAwBE,MAAAA,MAAM,EAANA;AAAxB,KAA7B;AAAA,cACKH;AADL,IADJ;AAKH;;AAED,eAAeD,YAAf","sourcesContent":["import { async } from '@firebase/util';\r\nimport React, { useState, createContext } from 'react';\r\nimport firebase from '../services/firebaseConnection';\r\n\r\nexport const AuthContext = createContext({});\r\n\r\nfunction AuthProvider({ children }){\r\n    const [user, setUser] = useState(null);\r\n\r\n    //Cadastrar o usuÃ¡rio\r\n    async function signUp(email, password, nome){\r\n        await firebase.auth().createUserWithEmailAndPassword(email, password)\r\n        .then(async (value)=>{\r\n            let uid = value.user.uid;\r\n            await firebase.database().ref('users').child(uid).set({\r\n                saldo: 0,\r\n                nome: nome\r\n            })\r\n            .then(()=>{\r\n                let data = {\r\n                    uid: uid,\r\n                    nome: nome,\r\n                    email: value.user.email,\r\n                };\r\n                setUser(data);\r\n            })\r\n        })\r\n    }\r\n\r\n    return(\r\n        <AuthContext.Provider value={{ signed: !!user, user, signUp }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport default AuthProvider;"]},"metadata":{},"sourceType":"module"}